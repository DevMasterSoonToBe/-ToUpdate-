@model AlausDaryklosGamybosValdymoSistema.Models.IngredientoPrasymas

@{
    ViewData["Title"] = "Create";
}
<head>
  <link rel="stylesheet" type="text/css" href="~/css/Prasymu pildymai.css">
</head>
<body>
<div class="prasymukurimas">
<div class="forms">
<h4>Pridėti ingredientą prie prašymo žaliavoms užsakyti</h4>
<hr />
<div class="row">
  <div class="col-md-4">

    <!--while (true)
  {

       <script>

  var i = 0;</script>
          -->


    <form asp-action="Create" onsubmit="IngrPrasPrid()">
      <div asp-validation-summary="ModelOnly" class="text-danger"></div>
      @{
        var kui = ViewBag.KlientoUzsakymoId;
      }
      <div class="form-group" hidden>
        <label asp-for="KlientoUzsakymoId" class="control-label"></label>
        <Input asp-for="@kui" class="form-control" />
      </div>
      <div class="form-group">
        <label asp-for="IngredientoId" class="control-label">Pasirinkti iš galimų ingredientų</label>
        <select asp-for="IngredientoId" class="form-control" asp-items="ViewBag.IngredientoId"></select>
      </div>
      <!--- <div class="form-group">
      <label asp-for="Ingrediento.IngredientoPavadinimas" class="control-label">Įvesti ingridientą, kurio nėra sistemoje</label>
      <input asp-for="Ingrediento.IngredientoPavadinimas" class="form-control" />
      <span asp-validation-for="Ingrediento.IngredientoPavadinimas" class="text-danger"></span>
  </div>
     -->
      <div class="form-group">
        <label asp-for="IngredientoKiekis" class="control-label">kg/l</label>
        <input asp-for="IngredientoKiekis" class="form-control" />
        <span asp-validation-for="IngredientoKiekis" class="text-danger"></span>
      </div>
      <div class="form-group">
        <label asp-for="Busena" class="control-label">Prašymo būsena</label>
        <select asp-for="Busena" class="form-control">
          <option value="S">Sukurtas</option>
        </select>
        <span asp-validation-for="Busena" class="text-danger"></span>
      </div>
      <div class="form-group">
        <input type="submit" value="Pridėti ingredientą" class="btn btn-default" />
      </div>
      <!--
        <div class="span4 pull-right">
          <div class="alert alert-danger fade">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong>Ingredientas pridėtas prie prašymo!</strong>
          </div>
          </div>
          -->
    </form>
    <script type="text/javascript">
      /*$(".btn btn-default").on("submit", function () {
        $(".alert").removeClass("in").show();
        $(".alert").delay(200).addClass("in").fadeOut(10000);
      });*/
      function IngrPrasPrid() {
        alert("Ingredientas pridėtas prie prašymo!");
      }
      function IngrPrid() {
        alert("Ingredientas pridėtas!");
      }
    </script>
    <a href='@Url.Action("Redirect", "IngredientoPrasymas", new { id = ViewBag.KlientoUzsakymoId })'><button type="button" class="btn btn-default">Baigti pildyti prašymą</button></a>
    <!-- <div class="form-group">
          <input type="submit" value="Pridėti" class="btn btn-default" />
          <script>
              var i = i + 1;
          </script>
      </div>
  </form>
  <script>
      if (i > 0) {
          <p>Ingredientas pridėtas!</p>
      }
      </script>
         -->

  </div>
</div>
    </div>

<div class="forms">
<h4>Pridėti ingredientą jei jo nėra duomenų bazėje</h4>
<hr />
<div class="row">
    <div class="col-md-4">
      <form asp-action="CreateIngr" onsubmit="IngrPrid()">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="form-group" hidden>
          <label asp-for="Ingrediento.FormosId" class="control-label"></label>
          <select asp-for="Ingrediento.FormosId" class="form-control" asp-items="ViewBag.FormosId"></select>
        </div>
        @{
          var kui2 = ViewBag.KlientoUzsakymoId;
        }
        <div class="form-group" hidden>
          <label asp-for="KlientoUzsakymoId" class="control-label"></label>
          <Input asp-for="@kui2" class="form-control" />
        </div>
        @{
          var Iid = "";
        }
        <div class="form-group">
          <label asp-for="Ingrediento.IngredientoPavadinimas" class="control-label"></label>
          <input asp-for="@Iid" class="form-control" />
          <span asp-validation-for="Ingrediento.IngredientoPavadinimas" class="text-danger"></span>
        </div>
        <div class="form-group" hidden>
          <label asp-for="Ingrediento.LaisvasKiekis" class="control-label"></label>
          <input asp-for="Ingrediento.LaisvasKiekis" class="form-control" />
          <span asp-validation-for="Ingrediento.LaisvasKiekis" class="text-danger"></span>
        </div>
        <div class="form-group">
          <input type="submit" value="Pridėti ingredientą" class="btn btn-default" />
        </div>
        <!--
        <div class="span4 pull-right">
          <div class="alert alert-danger fade">
            <button type="button" class="close" data-dismiss="alert">×</button>
            <strong>Ingredientas pridėtas!</strong>
          </div>
        </div>
            -->
      </form>
    </div>
</div>
    </div>
    </div>

    </body>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
